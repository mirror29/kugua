(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/user"],{1460:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},r=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r})},5075:function(t,e,n){"use strict";var o=n("9d91"),r=n.n(o);r.a},"96fb":function(t,e,n){"use strict";n.r(e);var o=n("1460"),r=n("ed73");for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);n("5075");var s=n("2877"),i=Object(s["a"])(r["default"],o["a"],o["b"],!1,null,null,null);e["default"]=i.exports},"9d91":function(t,e,n){},bc71:function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("a34a")),a=n("2f62");function s(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,o,r,a,s){try{var i=t[a](s),u=i.value}catch(c){return void n(c)}i.done?e(u):Promise.resolve(u).then(o,r)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(o,r){var a=t.apply(e,n);function s(t){i(a,o,r,s,u,"next",t)}function u(t){i(a,o,r,s,u,"throw",t)}s(void 0)})}}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){l(t,e,n[e])})}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(){return n.e("components/mix-list-cell").then(n.bind(null,"d078"))},h=0,d=0,v=!0,p={components:{listCell:f},data:function(){return{coverTransform:"translateY(0px)",coverTransition:"0s",moving:!1,list:[],amount:"",imgUrl:"http://47.112.113.139",commission:""}},onLoad:function(){},onReady:function(){this.sendRequest(),this.$refs.float.sendRequest()},onShow:function(){this.sendRequest2(),this.$common.searchClip()},onNavigationBarButtonTap:function(e){var n=e.index;1===n&&this.navTo("/pages/notice/notice"),0===n&&t.navigateTo({url:"./service"})},computed:c({},(0,a.mapState)(["hasLogin","userInfo","userMsg","showModal","clipText"])),updated:function(){""!=this.clipText?this.showM():this.$refs.modal.hideModal()},methods:c({},(0,a.mapMutations)(["logout"]),{showM:function(){this.showModal&&this.$refs.modal.showModal()},sendRequest:function(){var t=u(r.default.mark(function t(){var e;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$request.post("/business/category",{});case 3:e=t.sent,this.list=e.data.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(o("error:",t.t0," at pages\\user\\user.vue:296"));case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),sendRequest2:function(){var t=u(r.default.mark(function t(){var e,n;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$request.post("/balance/index",{header:{token:this.userInfo.token}});case 3:return e=t.sent,t.next=6,this.$request.post("/balance/income-this-month-and-last-month",{header:{token:this.userInfo.token}});case 6:n=t.sent,this.amount=e.data.data,this.commission=n.data.data,this.$common.checkStatus2(e.data.code),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.error(o("error:",t.t0," at pages\\user\\user.vue:316"));case 15:case"end":return t.stop()}},t,this,[[0,12]])}));function e(){return t.apply(this,arguments)}return e}(),loginOut:function(){var e=this;this.hasLogin?t.showActionSheet({itemList:["退出当前账号"],success:function(n){0===n.tapIndex&&(t.showToast({title:"账号已退出",icon:"none"}),e.logout(),e.amount="")},fail:function(t){console.log(o(t.errMsg," at pages\\user\\user.vue:350"))}}):t.showModal({title:"请先登录！",content:"您目前尚未登录",success:function(e){e.confirm?t.navigateTo({url:"/pages/login/login"}):e.cancel&&console.log(o("用户点击取消"," at pages\\user\\user.vue:332"))}})},goToTaoBao:function(){var e=u(r.default.mark(function e(){var n;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.hasLogin){e.next=4;break}t.navigateTo({url:"/pages/login/login"}),e.next=11;break;case 4:return e.next=6,this.$request.post("/authorization/taobao-verify",{header:{token:this.userInfo.token}});case 6:if(n=e.sent,0!==n.data.code){e.next=10;break}return t.showToast({title:n.data.msg,icon:"none",position:"bottom"}),e.abrupt("return",!1);case 10:this.$common.taoLogin();case 11:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),copyInv:function(){t.setClipboardData({data:this.userMsg.invite_code,success:function(){t.showToast({title:"复制邀请码成功，快去分享给好友吧",icon:"none"})}})},navTo:function(e){this.hasLogin||(e="/pages/login/login"),t.navigateTo({url:e})},toSchool:function(e){t.navigateTo({url:"/pages/school/school-list?id=".concat(e.id,"&name=").concat(e.name)})},coverTouchstart:function(t){!1!==v&&(this.coverTransition="transform .1s linear",h=t.touches[0].clientY)},coverTouchmove:function(t){d=t.touches[0].clientY;var e=d-h;e<0?this.moving=!1:(this.moving=!0,e>=80&&e<100&&(e=80),e>0&&e<=80&&(this.coverTransform="translateY(".concat(e,"px)")))},coverTouchend:function(){!1!==this.moving&&(this.moving=!1,this.coverTransition="transform 0.3s cubic-bezier(.21,1.93,.53,.64)",this.coverTransform="translateY(0px)")}})};e.default=p}).call(this,n("6e42")["default"],n("0de9")["default"])},ed73:function(t,e,n){"use strict";n.r(e);var o=n("bc71"),r=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=r.a}},[["0b40","common/runtime","common/vendor"]]]);